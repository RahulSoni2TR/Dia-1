<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Product Details</title>
    <link rel="stylesheet" href="product_details_style.css">
</head>
<body>
    <header class="header">
        <h1>Product Details</h1>
        <a href="/logout" class="logout-btn">Logout</a>
    </header>

    <main>
        <a href="/view-product" class="back-button">‚Üê Back to Product List</a>
        <div class="container" id="productDetailsContainer">
            <!-- Product details will be populated here -->
        </div>
    </main>

    <footer class="footer">
        <p>&copy; 2024 Your Company. All rights reserved.</p>
    </footer>

    <script>
        function loadProductDetails() {
            const productId = sessionStorage.getItem('productId'); // Retrieve product ID from session storage

            if (!productId) {
                document.getElementById('productDetailsContainer').innerHTML = '<p>No product selected.</p>';
                return;
            }

            fetch(`/loadProductDetail/${productId}`)
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    return response.json();
                })
                .then(product => {
                    const details = {
                        1: 'Diamond Rings',
                        2: 'Open Setting',
                        3: 'Chains',
                        4: 'Diamond Earrings',
                        5: 'Vilandi',
                        6: 'Jadtar Register'
                    };

                    const renderText = value => value ? value : '<span class="empty-label">No value</span>';

                    let productDetailsHTML = `
                        <div class="product-image">
                            <img src="${renderText(product.imageUrl)}" alt="${renderText(product.item)}">
                        </div>
                        <div class="product-details">
                            <h2>${renderText(product.item)}</h2>
                            <p><strong>Category:</strong> ${details[product.categoryId] || 'Unknown'}</p>
                            <p><strong>Design No:</strong> ${renderText(product.designNo)}</p>
                            <p><strong>Gold:</strong> ${renderText(product.karat)} Karat</p>
                            <h3>Additional Details:</h3>
                    `;

                      switch (product.categoryId) {
                    case 1:
                        productDetailsHTML += `
                            <p><strong>Net:</strong> ${renderText(product.net)} Gm</p>
                            <p><strong>Pcs:</strong> ${renderText(product.pcs)}</p>
                            <p><strong>Diamonds:</strong> ${renderText(product.diaWeight)} Carat</p>
                            <p><strong>Remarks:</strong> ${renderText(product.remarks)}</p>
                        `;
                        break;
                    case 2:
                        productDetailsHTML += `
                            <p><strong>Gross:</strong> ${renderText(product.gross)} Gm</p>
                            <p><strong>Net:</strong> ${renderText(product.net)} Gm</p>
                            <p><strong>Vilandi:</strong> ${renderText(product.vilandiCt)} Carat</p>
                            <p><strong>Diamonds:</strong> ${renderText(product.diamondsCt)} Carat</p>
                            <p><strong>Beads:</strong> ${renderText(product.beadsCt)} Carat</p>
                            <p><strong>Pearls:</strong> ${renderText(product.pearlsGm)} Gm</p>
                            <p><strong>Other Stones:</strong> ${renderText(product.otherStonesCt)} Carat</p>
                            <p><strong>Others:</strong> ${renderText(product.others)}</p>
                            <p><strong>Remarks:</strong> ${renderText(product.remarks)}</p>
                        `;
                        break;
                    case 3:
                        productDetailsHTML += `
                        	<!-- <p><strong>Design No:</strong> ${renderText(product.designNo)}</p> -->
                            <p><strong>Net:</strong> ${renderText(product.net)} Gm</p>
                            <p><strong>Remarks:</strong> ${renderText(product.remarks)}</p>
                        `;
                        break;
                    case 4:
                        productDetailsHTML += `
                        	<!-- <p><strong>Design No:</strong> ${renderText(product.designNo)}</p> -->
                            <p><strong>Net:</strong> ${renderText(product.net)} Gm</p>
                            <p><strong>Pcs:</strong> ${renderText(product.pcs)}</p>
                            <p><strong>Diamonds:</strong> ${renderText(product.diaWeight)} Carat</p>
                            <p><strong>Remarks:</strong> ${renderText(product.remarks)}</p>
                        `;
                        break;
                    case 5:
                        productDetailsHTML += `
                        	<!--  <p><strong>Design No:</strong> ${renderText(product.designNo)}</p> -->
                            <p><strong>Vilandi:</strong> ${renderText(product.vilandiCt)}</p>
                            <p><strong>Gross:</strong> ${renderText(product.gross)} Gm</p>
                            <p><strong>Net:</strong> ${renderText(product.net)} Gm</p>
                            <p><strong>Stones:</strong> ${renderText(product.stones)}</p>
                            <p><strong>Beads:</strong> ${renderText(product.beadsCt)} Carat</p>
                            <p><strong>Pearls:</strong> ${renderText(product.pearlsGm)} Gm</p>
                            <p><strong>SS Pearl:</strong> ${renderText(product.ssPearlCt)} Carat</p>
                            <p><strong>Real Stone:</strong> ${renderText(product.realStone)} Carat</p>
                            <p><strong>Remarks:</strong> ${renderText(product.remarks)}</p>
                        `;
                        break;
                    case 6:
                        productDetailsHTML += `
                           <!--  <p><strong>Design No:</strong> ${renderText(product.designNo)}</p> -->
                            <p><strong>Gross:</strong> ${renderText(product.gross)} Gm</p>
                            <p><strong>Net:</strong> ${renderText(product.net)} Gm</p>
                            <p><strong>Stones:</strong> ${renderText(product.stones)} Carat</p>
                            <p><strong>Beads:</strong> ${renderText(product.beadsCt)} Carat</p>
                            <p><strong>Pearls:</strong> ${renderText(product.pearlsGm)} Gm</p>
                            <p><strong>SS Pearl:</strong> ${renderText(product.ssPearlCt)} Carat</p>
                            <p><strong>Real Stone:</strong> ${renderText(product.realStone)} Carat</p>
                            <p><strong>Mozonite:</strong> ${renderText(product.mozonite)}</p>
                            <p><strong>Remarks:</strong> ${renderText(product.remarks)}</p>
                        `;
                        break;
                    default:
                        productDetailsHTML += '<p>Category not recognized.</p>';
                }
                    // Add other categories as needed
                    productDetailsHTML += '</div>';

                    document.getElementById('productDetailsContainer').innerHTML = productDetailsHTML;
                })
                .catch(err => {
                    console.error('Error fetching product details:', err);
                    document.getElementById('productDetailsContainer').innerHTML = '<p>Product not found.</p>';
                });
        }

        loadProductDetails();
    </script>
</body>
</html>
